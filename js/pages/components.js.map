{
  "version": 3,
  "sources": ["../../../node_modules/postdoc-lib/src/postdoc.ts", "../../src/pages/components.ts"],
  "sourcesContent": [null, "/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport '@material/web/iconbutton/outlined-icon-button.js';\n\nimport {MdOutlinedIconButton} from '@material/web/iconbutton/outlined-icon-button.js';\nimport type {PlaygroundPreview} from 'playground-elements/playground-preview.js';\nimport {PostDoc} from 'postdoc-lib';\n\nimport {getCurrentThemeString} from '../utils/theme.js';\n\n/**\n * Gets the iframe of a playground preview, and updates the iframe communication\n * library to communicate with the new window on each iframe reload.\n *\n * @param postdoc The instance of the iframe communication library.\n * @param previewEl An element reference to the playground preview element.\n */\nasync function updateMessageTargetOnIframeLoad(\n  postdoc: PostDoc,\n  previewEl: PlaygroundPreview,\n) {\n  await previewEl.updateComplete;\n  const iframe = previewEl.iframe!;\n\n  iframe.addEventListener('load', (e: Event) => {\n    postdoc.messageTarget = iframe.contentWindow;\n  });\n}\n\n/**\n * Synchronizes the playground's theme with the material theme applied to the\n * current page every time the playground reloads.\n */\nasync function syncPlaygroundThemeWithPage() {\n  async function onPlaygroundMessage(e: MessageEvent) {\n    // if the playground is requesting a new theme, send it the current one\n    // from localStorage\n    if (e.data === 'request-theme') {\n      await postdoc.handshake;\n      postdoc.postMessage(getCurrentThemeString());\n    }\n  }\n\n  // Initialize the iframe communication library\n  const postdoc = new PostDoc({\n    messageReceiver: window,\n    onMessage: onPlaygroundMessage,\n  });\n\n  const previewEl = document.querySelector('playground-preview');\n\n  if (!previewEl) {\n    return;\n  }\n\n  await customElements.whenDefined('playground-preview');\n  await updateMessageTargetOnIframeLoad(postdoc, previewEl);\n  await postdoc.handshake;\n\n  // Whenever the theme changes, send it to the playground iframe.\n  window.addEventListener('theme-changed', async () => {\n    await postdoc.handshake;\n    postdoc.postMessage(localStorage.getItem('material-theme'));\n  });\n}\n\n/**\n * Synchronizes the state of the native <details> for the demo dropdown with the\n * slotted <md-outlined-icon-button>. Also deals with some quicks of buttons in\n * <summary> elements\n */\nfunction demoDropdown() {\n  const detailsEl = document.querySelector('details');\n\n  // tslint:disable:no-unnecessary-type-assertion TSC externally seems to differ\n  // from internal here and needs these type assertions\n  const expandButton = detailsEl?.querySelector(\n    'summary md-outlined-icon-button',\n  ) as MdOutlinedIconButton;\n  // tslint:enable:no-unnecessary-type-assertion\n\n  // Synchronize details open state with toggle button\n  detailsEl?.addEventListener('toggle', () => {\n    expandButton!.selected = detailsEl.open;\n  });\n\n  // Toggles the details element because buttons \"eat up\" the <summary> click\n  // except on Safari. So we have to setTimeout to check if the details element\n  // has updated.\n  expandButton?.addEventListener('click', () => {\n    setTimeout(() => {\n      if (detailsEl?.open !== expandButton.selected) {\n        detailsEl!.toggleAttribute('open');\n      }\n    });\n  });\n}\n\nsyncPlaygroundThemeWithPage();\ndemoDropdown();\n"],
  "mappings": "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",
  "names": ["MESSAGE_TYPE"]
}
