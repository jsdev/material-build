function b(i,e=u){let t=A(i,e);return t&&(t.tabIndex=0,t.focus()),t}function d(i,e=u){let t=D(i,e);return t&&(t.tabIndex=0,t.focus()),t}function L(i,e=u){let t=I(i,e);return t&&(t.item.tabIndex=-1),t}function I(i,e=u){for(let t=0;t<i.length;t++){let n=i[t];if(n.tabIndex===0&&e(n))return{item:n,index:t}}return null}function A(i,e=u){for(let t of i)if(e(t))return t;return null}function D(i,e=u){for(let t=i.length-1;t>=0;t--){let n=i[t];if(e(n))return n}return null}function k(i,e,t=u,n=!0){for(let s=1;s<i.length;s++){let r=(s+e)%i.length;if(r<e&&!n)return null;let m=i[r];if(t(m))return m}return i[e]?i[e]:null}function E(i,e,t=u,n=!0){for(let s=1;s<i.length;s++){let r=(e-s+i.length)%i.length;if(r>e&&!n)return null;let m=i[r];if(t(m))return m}return i[e]?i[e]:null}function g(i,e,t=u,n=!0){if(e){let s=k(i,e.index,t,n);return s&&(s.tabIndex=0,s.focus()),s}else return b(i,t)}function x(i,e,t=u,n=!0){if(e){let s=E(i,e.index,t,n);return s&&(s.tabIndex=0,s.focus()),s}else return d(i,t)}function K(){return new Event("deactivate-items",{bubbles:!0,composed:!0})}function F(){return new Event("request-activation",{bubbles:!0,composed:!0})}function u(i){return!i.disabled}var v={ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",Home:"Home",End:"End"},p=class{constructor(e){this.handleKeydown=o=>{let a=o.key;if(o.defaultPrevented||!this.isNavigableKey(a))return;let l=this.items;if(!l.length)return;let c=I(l,this.isActivatable);o.preventDefault();let h=this.isRtl(),P=h?v.ArrowRight:v.ArrowLeft,y=h?v.ArrowLeft:v.ArrowRight,f=null;switch(a){case v.ArrowDown:case y:f=g(l,c,this.isActivatable,this.wrapNavigation());break;case v.ArrowUp:case P:f=x(l,c,this.isActivatable,this.wrapNavigation());break;case v.Home:f=b(l,this.isActivatable);break;case v.End:f=d(l,this.isActivatable);break;default:break}f&&c&&c.item!==f&&(c.item.tabIndex=-1)},this.onDeactivateItems=()=>{let o=this.items;for(let a of o)this.deactivateItem(a)},this.onRequestActivation=o=>{this.onDeactivateItems();let a=o.target;this.activateItem(a),a.focus()},this.onSlotchange=()=>{let o=this.items,a=!1;for(let c of o){if(!c.disabled&&c.tabIndex>-1&&!a){a=!0,c.tabIndex=0;continue}c.tabIndex=-1}if(a)return;let l=A(o,this.isActivatable);l&&(l.tabIndex=0)};let{isItem:t,getPossibleItems:n,isRtl:s,deactivateItem:r,activateItem:m,isNavigableKey:w,isActivatable:N,wrapNavigation:R}=e;this.isItem=t,this.getPossibleItems=n,this.isRtl=s,this.deactivateItem=r,this.activateItem=m,this.isNavigableKey=w,this.isActivatable=N,this.wrapNavigation=R??(()=>!0)}get items(){let e=this.getPossibleItems(),t=[];for(let n of e){if(this.isItem(n)){t.push(n);continue}let r=n.item;r&&this.isItem(r)&&t.push(r)}return t}activateNextItem(){let e=this.items,t=I(e,this.isActivatable);return t&&(t.item.tabIndex=-1),g(e,t,this.isActivatable,this.wrapNavigation())}activatePreviousItem(){let e=this.items,t=I(e,this.isActivatable);return t&&(t.item.tabIndex=-1),x(e,t,this.isActivatable,this.wrapNavigation())}};export{L as a,I as b,A as c,D as d,K as e,F as f,v as g,p as h};
